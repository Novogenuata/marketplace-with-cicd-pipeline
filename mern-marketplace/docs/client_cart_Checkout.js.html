<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: client/cart/Checkout.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: client/cart/Checkout.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>import React, {useState, useEffect} from 'react'
import Card from '@material-ui/core/Card'
import {makeStyles} from '@material-ui/core/styles'
import TextField from '@material-ui/core/TextField'
import Typography from '@material-ui/core/Typography'
import Icon from '@material-ui/core/Icon'
import auth from './../auth/auth-helper'
import cart from './cart-helper.js'
import PlaceOrder from './PlaceOrder'
import {Elements} from 'react-stripe-elements'

const useStyles = makeStyles(theme => ({
  card: {
    margin: '24px 0px',
    padding: '16px 40px 90px 40px',
    backgroundColor: '#80808017'
  },
  title: {
    margin: '24px 16px 8px 0px',
    color: theme.palette.openTitle
  },
  subheading: {
    color: 'rgba(88, 114, 128, 0.87)',
    marginTop: "20px",
  },
  addressField: {
    marginTop: "4px",
    marginLeft: theme.spacing(1),
    marginRight: theme.spacing(1),
    width: "45%"
  },
  streetField: {
    marginTop: "4px",
    marginLeft: theme.spacing(1),
    marginRight: theme.spacing(1),
    width: "93%"
  },
  textField: {
    marginLeft: theme.spacing(1),
    marginRight: theme.spacing(1),
    width: "90%"
  }
}))
/**
 * Checkout component
 * 
 * Renders a checkout form for the current user including:
 * - Customer information (name, email, tip)
 * - Delivery address (street, city, state, zipcode, country)
 * - PlaceOrder component wrapped in Stripe Elements
 * 
 * Props:
 * @param {Object} props.checkoutDetails - Optional checkout details passed from parent
 * @param {Array} props.checkoutDetails.products - List of products in cart
 * @param {string} props.checkoutDetails.customer_name - Customer name
 * @param {string} props.checkoutDetails.customer_email - Customer email
 * @param {number} props.checkoutDetails.tip - Optional tip amount
 * @param {Object} props.checkoutDetails.delivery_address - Delivery address object
 * @param {string} props.checkoutDetails.delivery_address.street
 * @param {string} props.checkoutDetails.delivery_address.city
 * @param {string} props.checkoutDetails.delivery_address.state
 * @param {string} props.checkoutDetails.delivery_address.zipcode
 * @param {string} props.checkoutDetails.delivery_address.country
 */

export default function Checkout({ checkoutDetails }) {
  const classes = useStyles()
  const user = auth.isAuthenticated().user

const [values, setValues] = useState({
  checkoutDetails: {
    products: cart.getCart(),
    customer_name: user.name,
    customer_email: user.email,
    tip: Number(localStorage.getItem('checkoutTip')) || 0, 
    delivery_address: { street: '', city: '', state: '', zipcode: '', country: '' }
  },
  error: ''
})




  const handleCustomerChange = name => event => {
    let checkoutDetails = values.checkoutDetails
    checkoutDetails[name] = event.target.value || undefined
    setValues({...values, checkoutDetails: checkoutDetails})
  }

  const handleAddressChange = name => event => {
    let checkoutDetails = values.checkoutDetails
    checkoutDetails.delivery_address[name] = event.target.value || undefined
    setValues({...values, checkoutDetails: checkoutDetails})
  }

    return (
      &lt;Card className={classes.card}>
        &lt;Typography type="title" className={classes.title}>
          Checkout
        &lt;/Typography>
        &lt;TextField id="name" label="Name" className={classes.textField} value={values.checkoutDetails.customer_name} onChange={handleCustomerChange('customer_name')} margin="normal"/>&lt;br/>
        &lt;TextField id="email" type="email" label="Email" className={classes.textField} value={values.checkoutDetails.customer_email} onChange={handleCustomerChange('customer_email')} margin="normal"/>&lt;br/>
        &lt;TextField id="tip" label="Tip the seller ($)" type="number" className={classes.textField} value={values.checkoutDetails.tip} onChange={handleCustomerChange('tip')} margin="normal" InputProps={{ inputProps: { min: 0, step: "0.50" } }}/>&lt;br/>
        &lt;Typography type="subheading" component="h3" className={classes.subheading}>
            Delivery Address
        &lt;/Typography>
        &lt;TextField id="street" label="Street Address" className={classes.streetField} value={values.checkoutDetails.delivery_address.street} onChange={handleAddressChange('street')} margin="normal"/>&lt;br/>
        &lt;TextField id="city" label="City" className={classes.addressField} value={values.checkoutDetails.delivery_address.city} onChange={handleAddressChange('city')} margin="normal"/>
        &lt;TextField id="state" label="State" className={classes.addressField} value={values.checkoutDetails.delivery_address.state} onChange={handleAddressChange('state')} margin="normal"/>&lt;br/>
        &lt;TextField id="zipcode" label="Zip Code" className={classes.addressField} value={values.checkoutDetails.delivery_address.zipcode} onChange={handleAddressChange('zipcode')} margin="normal"/>
        &lt;TextField id="country" label="Country" className={classes.addressField} value={values.checkoutDetails.delivery_address.country} onChange={handleAddressChange('country')} margin="normal"/>
        &lt;br/> {
            values.error &amp;&amp; (&lt;Typography component="p" color="error">
                &lt;Icon color="error" className={classes.error}>error&lt;/Icon>
                {values.error}&lt;/Typography>)
          }
        &lt;div>
          &lt;Elements>
            &lt;PlaceOrder checkoutDetails={values.checkoutDetails} />
          &lt;/Elements>
        &lt;/div>
      &lt;/Card>)
}</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Global</h3><ul><li><a href="global.html#Checkout">Checkout</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.2</a> on Sun Dec 07 2025 20:51:31 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
